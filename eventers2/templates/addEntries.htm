<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>The Eventer</title>
  <meta content="" name="descriptison">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="static/img/favicon.png" rel="icon">
  <link href="static/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Montserrat:300,400,500,700" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="static/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="static/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="static/vendor/ionicons/css/ionicons.min.css" rel="stylesheet">
  <link href="static/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="static/vendor/venobox/venobox.css" rel="stylesheet">
  <link href="static/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="static/css/style.css" rel="stylesheet">
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header">
    <div class="container-fluid">

      <div id="logo" class="pull-left">
        <h1><a href="#intro" class="scrollto">Eventer</a></h1>
        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <a href="#intro"><img src="static/img/logo.png" alt=""></a>-->
      </div>

      <nav id="nav-menu-container">
        <ul class="nav-menu">
          <li class="menu-active"><a href="#intro">Applet</a></li>
          <li><a href="#mainEvent">Main Event</a></li>
          <li><a href="#subEvent">Sub Event</a></li>
          <li><a href="#participate">Participate</a></li>
          <li><a href="index.htm#intro">Home</a></li>
        </ul>
      </nav><!-- #nav-menu-container -->
    </div>
  </header><!-- End Header -->

  <!-- ======= Intro Section ======= -->
  <section id="intro">
    <div class="intro-container">
      <div id="introCarousel" class="carousel  slide carousel-fade" data-ride="carousel">

        <div class="carousel-inner" role="listbox">

          <div class="carousel-item active">
            <div class="carousel-background"><img src="static/img/main-event-bg.jpg" alt=""></div>
            <div class="carousel-container">
              <div class="carousel-content">
                <h2>Mini Applet</h2>
                <p>
                	Managing the details of an event is a work of great responsibility. For any huge event, the management can get as messy as one can imagine. One may need some automated framework to do it for them.
                </p>
                <a href="#handsOn" class="btn-get-started scrollto">Get Started</a>
              </div>
            </div>
          </div>

        </div>

      </div>
    </div>
  </section><!-- End Intro Section -->

  <main id="main">

    <!-- ======= MainEvent Section ======= -->
    <section id="mainEvent">
      <div class="container">

        <header class="section-header">
          <h3>Main Event</h3>
          <p>A main event is the name by which the event is advertised. It consists of many sub events taking place in it.</p>
        </header>


        <div class="form">
          <form action="forms/contact.php" method="post" role="form" class="php-email-form">
              <div class="form-group col-md-12">
                <input type="text" name="MainEventName" class="form-control" id="me_name" placeholder="Main Event Name" data-rule="minlen:4" data-msg="Please enter at least 4 chars" />
                <div class="validate"></div>
              </div>
            <div class="text-center"><button type="submit">Add Main Event</button></div>
          </form>
        </div>

    </section><!-- End MainEvent Section -->

    <!-- ======= SubEvent Section ======= -->
    <section id="subEvent">
      <div class="container">

        <header class="section-header">
          <h3>Sub Event</h3>
          <p>A sub event is the event in which various kind of activities can take place. It must be a part of a main event.</p>
        </header>


        <div class="form">
          <form action="forms/contact.php" method="post" role="form" class="php-email-form">
            <div class="form-row">

              <div class="form-group col-md-6">
                  <h6>Main Event</h6>
                  <select id="me_name" class="form-control">
                    <option>Odyssey</option>
                  </select>
              </div>

              <div class="form-group col-md-6">
                <h6>Name</h6>
                <input type="text" name="SubEventName" class="form-control" id="se_name" placeholder="Sub Event Name" data-rule="minlen:4" data-msg="Please enter at least 4 chars" />
                <div class="validate"></div>
              </div>

            </div>

            <div class="text-center"><button type="submit">Add Sub Event</button></div>

          </form>
        </div>

      </div>
    </section><!-- End SubEvent Section -->

    <!-- ======= Participate Section ======= -->
    <section id="participate" class="section-bg">
      <div class="container">

        <header class="section-header">
          <h3 class="section-title">Participate</h3>
          <p>
          	Participate in an ongoing event!
          </p>
        </header>

          
        <div class="form">
          <form action="forms/contact.php" method="post" role="form" class="php-email-form">
            <div class="form-row">

              <div class="form-group col-md-6">
                  <h6>Main Event</h6>
                  <select id="me_name" class="form-control">
                    <option>Odyssey</option>
                  </select>
              </div>

              <div class="form-group col-md-6">
                  <h6>Sub Event</h6>
                  <select id="se_name" class="form-control">
                    <option>Battle of Bands</option>
                  </select>
              </div>

              <div class="form-group col-md-4">
                <h6>Name</h6>
                <input type="text" name="ParticipantName" class="form-control" id="p_name" placeholder="Participant Name" data-rule="minlen:4" data-msg="Please enter at least 4 chars" />
                <div class="validate"></div>
              </div>

              <div class="form-group col-md-4">
                <h6>Age</h6>
                <input type="text" name="ParticipantAge" class="form-control" id="p_age" placeholder="Participant Age" data-rule="minlen:4" data-msg="Please enter at least 4 chars" />
                <div class="validate"></div>
              </div>

              <div class="form-group col-md-4">
                <h6>Contact</h6>
                <input type="text" name="ParticipantContact" class="form-control" id="p_contact" placeholder="Participant Email ID" data-rule="minlen:4" data-msg="Please enter at least 4 chars" />
                <div class="validate"></div>
              </div>

            </div>

            <div class="text-center"><button type="submit">Paritipate!</button></div>

          </form>

      </div>
    </section><!-- End Participate Section -->

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-4 col-md-6 footer-info">
            <h3>Eventer</h3>
            <p>
            	A framework which helps the people manage or create details of upcoming or ongoing events and save them from the hassle of keeping records of minute details of the event in order to save time by the automation.
            </p>
          </div>

          <div class="col-lg-4 col-md-6 footer-links">
            <h4>Useful Links</h4>
            <ul>
              <li><i class="ion-ios-arrow-right"></i> <a href="index.htm#intro">Home</a></li>
              <li><i class="ion-ios-arrow-right"></i> <a href="index.htm#about">About us</a></li>
              <li><i class="ion-ios-arrow-right"></i> <a href="index.htm#features">Features</a></li>
            </ul>
          </div>

          <div class="col-lg-4 col-md-6 footer-contact">
            <h4>Contact Us</h4>
            <p>
              Indraprastha Institute of Information Technology<br>
              Okhla Industrial Phase - III<br>
              New Delhi - 110020<br>
              <strong>Email:</strong> shrey18266@iiitd.ac.in<br>
            </p>

          </div>

        </div>
      </div>
    </div>

    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong>Eventer</strong>. All Rights Reserved
      </div>
      <div class="credits">
        <!--
        All the links in the footer should remain intact.
        You can delete the links only if you purchased the pro version.
        Licensing information: https://bootstrapmade.com/license/
        Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/buy/?theme=BizPage
      -->
        Designed by <a href="mailto:shrey18266@iiitd.ac.in">Shrey</a> and <a href="mailto:isha18040@iiitd.ac.in">Isha</a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
  <!-- Uncomment below i you want to use a preloader -->
  <!-- <div id="preloader"></div> -->

  <!-- Vendor JS Files -->
  <script src="static/vendor/jquery/jquery.min.js"></script>
  <script src="static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="static/vendor/jquery.easing/jquery.easing.min.js"></script>
  <script src="static/vendor/php-email-form/validate.js"></script>
  <script src="static/vendor/wow/wow.min.js"></script>
  <script src="static/vendor/waypoints/jquery.waypoints.min.js"></script>
  <script src="static/vendor/counterup/counterup.min.js"></script>
  <script src="static/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="static/vendor/venobox/venobox.min.js"></script>
  <script src="static/vendor/owl.carousel/owl.carousel.min.js"></script>
  <script src="static/vendor/superfish/superfish.min.js"></script>
  <script src="static/vendor/hoverIntent/hoverIntent.js"></script>
  <script src="static/vendor/jquery-touchswipe/jquery.touchSwipe.min.js"></script>

  <!-- Template Main JS File -->
  <script src="static/js/main.js"></script>
  <script src="static/js/sql.js"></script>

</body>

</html>
<script>
  function createDropDown(itemList,id_index,value_index,prefix,prefix_id_select){
      let component="<select id="+prefix_id_select+">";
      component+="<option>"+prefix_id_select+"</option>";
      console.log(itemList,"blahhh");
      let n=itemList.length;
      for (let i=0;i<n;i++){
          let temp="<option id="+prefix+"_"+itemList[i][2][id_index]+">"+itemList[i][2][value_index]+"</option>";
          component+=temp;
      }
      component+="</select>";
      return component;
  }
  function getSelectedOption(selectID){
      let selectMenu = document.getElementById(selectID);
      return selectMenu.options[selectMenu.selectedIndex].id;
  }
  function getDataId(ID){
    return ID.split("_")[1];
  }
  function sendAJAX(ID,tableName,tableNameID,id_index,value_index,prefix,prefix_id_select,throughTableName){
    $.ajax({
      type: "POST",
      url: "{{url_for('requestdata')}}",
      data: JSON.stringify({'data':[ID,tableName,tableNameID,throughTableName]}),
    }).done(function(data){
      let component=createDropDown(data["dataList"],id_index,value_index,prefix,prefix_id_select);
      $("#main_query_container").append(component);
    });
  }
  console.log("yayy");
  var x={{ main_event_list|tojson }};
  document.getElementById("main_event").onchange = function(){
    let selectedID=getDataId(getSelectedOption("main_event"));
    console.log(selectedID);
    $.ajax({
      type: "POST",
      url: "{{url_for('requestdata')}}",
      data: JSON.stringify({'data':[selectedID,"SubEvent","ME_ID","null"]}),
    }).done(function(data){
      let component=createDropDown(data["dataList"],"E_ID","Name","E","sub_event");
      $("#main_query_container").append(component);
      document.getElementById("sub_event").onchange = function(){
        console.log("entered");
        let selectedID2=getDataId(getSelectedOption("sub_event"));
        $.ajax({
          type: "POST",
          url: "{{url_for('requestdata')}}",
          data: JSON.stringify({'data':[selectedID2,"Volunteer","V_ID","VolunteerEvent"]}),
        }).done(function(data){
          let component=createDropDown(data["dataList"],"V_ID","Name","V","volunteer");
          $("#main_query_container").append(component);
        });
        $.ajax({
          type: "POST",
          url: "{{url_for('requestdata')}}",
          data: JSON.stringify({'data':[selectedID2,"Organizer","O_ID","OrganizerEvent"]}),
        }).done(function(data){
          let component=createDropDown(data["dataList"],"O_ID","Name","O","organizer");
          $("#main_query_container").append(component);
        });
        $.ajax({
          type: "POST",
          url: "{{url_for('requestdata')}}",
          data: JSON.stringify({'data':[selectedID2,"Sponsor","S_ID","SponsorEvent"]}),
        }).done(function(data){
          let component=createDropDown(data["dataList"],"S_ID","Name","S","sponsor");
          $("#main_query_container").append(component);
        });
        $.ajax({
          type: "POST",
          url: "{{url_for('requestdata')}}",
          data: JSON.stringify({'data':[selectedID2,"Participant","P_ID","ParticipantEvent"]}),
        }).done(function(data){
          let component=createDropDown(data["dataList"],"P_ID","Name","P","participant");
          $("#main_query_container").append(component);
          document.getElementById("participant").onchange = function(){
            let selectedID3=getDataId(getSelectedOption("participant"));
            $.ajax({
              type: "POST",
              url: "{{url_for('requestdata')}}",
              data: JSON.stringify({'data':[selectedID3,"Prize","P_ID","null"]}),
            }).done(function(data){
                console.log(data,"prize");
            });
          }
        });
        $.ajax({
          type: "POST",
          url: "{{url_for('requestdata')}}",
          data: JSON.stringify({'data':[selectedID2,"Guest","G_ID","GuestEvent"]}),
        }).done(function(data){
          let component=createDropDown(data["dataList"],"G_ID","Name","G","guest");
          $("#main_query_container").append(component);
        });
      }
    });
    $.ajax({
      type: "POST",
      url: "{{url_for('requestdata')}}",
      data: JSON.stringify({'data':[selectedID,"Team","ME_ID","null"]}),
    }).done(function(data){
      let component=createDropDown(data["dataList"],"T_ID","Name","T","team");
      $("#main_query_container").append(component);
    });
    

  };
  
  //console.log(x);
  //var t=document.getElementById(x);
  //console.log(t)

</script>